{"source":"webpackJsonp([187],{\"0xDb\":function(e,t,a){\"use strict\";t.a=function(e){var t={},a=function(a){var o=!1;0<JSON.parse(sessionStorage.getItem(\"roles\")).length&&JSON.parse(sessionStorage.getItem(\"roles\")).forEach(function(e,t){a===e&&(o=!0)}),t[a]=o};for(var o in e)a(o);return t},t.b=function(n,s,r){var i=void 0,a=void 0,l=void 0,c=void 0,u=void 0,d=function e(){var t=+new Date-c;t<s&&0<t?i=setTimeout(e,s-t):(i=null,r||(u=n.apply(l,a),i||(l=a=null)))};return function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];l=this,c=+new Date;var o=r&&!i;return i||(i=setTimeout(d,s)),o&&(u=n.apply(l,t),l=t=null),u}};var o=a(\"hRKE\");a.n(o),a(\"IcnI\")},AbLk:function(e,t,r){\"use strict\";var a=r(\"3cXf\"),o=r.n(a),n=r(\"4YfN\"),s=r.n(n),i=r(\"0xDb\"),l=r(\"EaRo\"),c=r(\"lQSI\"),u=r(\"Z7nP\"),d=r.n(u);t.a={data:function(){return{show2:!0,auditStatus:{txt:\"\",color:\"#FFF\"},synchroDis:!1,exportDis:!1,roleBtn:{selectStoresInfo:!1,addStoresInfo:!1,updateStoresInfo:!1,deleteStoresInfo:!1,exportStoresInfo:!1,synchroStoresInfo:!1,onlineStoresInfo:!1,downlineStoresInfo:!1},form:{isDefault:\"\",searchContent:\"\",shelvesStatus:\"\"},brandName:\"品牌名称\",tableData:[],multipleSelection:[],tableLoading:!1,page:0,count:0,limit:this.GLOBAL.limit}},methods:{handleSelectionChange:function(e){this.multipleSelection=e},onReset:function(){this.form={searchContent:\"\",shelvesStatus:\"\"}},onSubmit:function(){this.showTable(\"\",this.limit,this.form)},handleCurrentChange:function(e){this.page=e,this.showTable(e,this.limit,this.form)},handleSizeChange:function(e){this.limit=e,this.showTable(this.page,this.limit,this.form)},showTable:function(e,t,a){var o=this,n=(this.form.roleInfo,s()({userId:this.userInfo.userCode,page:e,limit:t},this.form));this.tableLoading=!0,r.i(l.a)(n).then(function(e){var t=JSON.parse(Base64.decode(e.data)),a=[];t.messageType?\"SUCCESS\"!=t.messageType&&o.$message({message:t.messageContent,type:\"warning\"}):(t.data.forEach(function(e,t){a.push(s()({},e))}),o.count=t.count,o.tableData=a),o.tableLoading=!1}).catch(function(e){o.tableLoading=!1})},synchroStores:function(){var a=this;if(0==this.multipleSelection.length)return this.$message.warning(\"请选择数据！\"),!1;var o=0,n=[];if(this.multipleSelection.forEach(function(e,t){n.push(e),\"是\"==e.auditStatus&&o++}),0<o)return this.$message.warning(\"请选择未同步到微信的数据！\"),!1;a.tableLoading=!0,a.synchroDis=!0;var e={userId:this.userInfo.userCode,storesArray:n};r.i(l.b)(e).then(function(e){var t=JSON.parse(Base64.decode(e.data));\"SUCCESS\"==t.messageType?(a.synchroDis=!1,a.$message.success(t.messageContent),a.showTable(a.page,a.limit,a.form)):(a.synchroDis=!1,a.$message.warning(t.messageContent)),a.tableLoading=!1}).catch(function(e){a.synchroDis=!1,a.tableLoading=!1})},iconQiyong:function(a,o){var n=this,s=this;this.tableLoading=!0,this.$confirm(\"您确定要启用这条数据吗?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){var e={userId:n.userInfo.userCode,id:o[a].id,version:o[a].version,shelvesStatus:\"是\"};r.i(l.c)(e).then(function(e){var t=JSON.parse(Base64.decode(e.data));\"SUCCESS\"==t.messageType?(o[a].shelvesStatus=\"是\",s.$message.success(t.messageContent),s.showTable(n.page,n.limit,n.form)):s.$message.warning(t.messageContent),s.tableLoading=!1}).catch(function(e){s.tableLoading=!1})}).catch(function(){s.tableLoading=!1})},iconTingzhi:function(a,o){var n=this,s=this;this.tableLoading=!0,this.$confirm(\"您确定要停用这条数据吗?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(function(){var e={userId:n.userInfo.userCode,id:o[a].id,version:o[a].version,shelvesStatus:\"否\"};r.i(l.c)(e).then(function(e){var t=JSON.parse(Base64.decode(e.data));\"SUCCESS\"==t.messageType?(o[a].shelvesStatus=\"否\",s.$message.success(t.messageContent),s.showTable(n.page,n.limit,n.form)):s.$message.warning(t.messageContent),s.tableLoading=!1}).catch(function(e){s.tableLoading=!1})}).catch(function(){s.tableLoading=!1})},exportDataFn:function(){var a=this,o=\"\";this.multipleSelection.forEach(function(e,t){o+=e.id+\",\"}),this.exportDis=!0;var e={userId:this.userInfo.userCode,params:o,shelvesStatus:this.form.shelvesStatus,searchContent:this.form.searchContent};this.tableLoading=!0,r.i(l.d)(e).then(function(e){var t=JSON.parse(Base64.decode(e.data));\"SUCCESS\"==t.messageType?(a.exportDis=!1,window.location.href=d.a.get(\"baseUrl\")+t.messageContent):(a.exportDis=!1,a.$message.warning(t.messageContent))}).catch(function(e){a.exportDis=!1}),this.tableLoading=!1},iconChakan:function(e,t){var a=o()(t);this.$router.push({name:\"门店管理门店管理查询\",params:{pageType:\"查看\",brandName:this.brandName,pageTypes:\"\",formData:a}})},iconXiugai:function(e,t){var a=o()(t);this.$router.push({name:\"门店管理门店管理修改\",params:{pageType:\"修改\",brandName:this.brandName,pageTypes:this.pageTypeOther,formData:a}})},addStore:function(){this.$router.push({name:\"门店管理门店管理新增\",params:{pageType:\"添加\",pageTypes:\"\"}})}},created:function(){var a=this,e={userId:this.userInfo.userCode};r.i(l.e)(e).then(function(e){var t=JSON.parse(Base64.decode(e.data));\"SUCCESS\"==t.messageType?(a.auditStatus.color=\"#009ee2\",a.auditStatus.txt=t.messageContent):(a.show2=!1,a.$message.warning(t.messageContent))}).catch(function(e){}),this.roleBtn=r.i(i.a)(this.roleBtn),this.showTable(this.page,this.limit,this.form)},computed:s()({},r.i(c.a)([\"userInfo\"]),{getFormData:function(){return this.$route.params.formData},getPageType:function(){return this.$route.params.pageType}})}},Cu5r:function(e,t,a){\"use strict\";var o={render:function(){var a=this,e=a.$createElement,o=a._self._c||e;return o(\"el-container\",{staticClass:\"app-container\"},[o(\"div\",{staticClass:\"transitionArea\"},[o(\"transition\",{attrs:{name:\"el-zoom-in-top\"}},[o(\"el-card\",{directives:[{name:\"show\",rawName:\"v-show\",value:a.show2,expression:\"show2\"}],staticClass:\"transition-box\",style:{\"background-color\":a.auditStatus.color}},[a._v(a._s(a.auditStatus.txt))])],1)],1),a._v(\" \"),o(\"el-header\",[a.roleBtn.addStoresInfo||a.roleBtn.exportStoresInfo||a.roleBtn.synchroStoresInfo||a.roleBtn.selectStoresInfo?o(\"el-card\",[a.roleBtn.selectStoresInfo?o(\"el-form\",{staticClass:\"demo-form-inline\",attrs:{inline:!0,model:a.form}},[o(\"div\",{staticClass:\"floatRight\"},[o(\"el-form-item\",{attrs:{label:\"是否为默认门店\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:a.form.isDefault,callback:function(e){a.$set(a.form,\"isDefault\",e)},expression:\"form.isDefault\"}},[o(\"el-option\",{attrs:{label:\"是\",value:\"是\"}}),a._v(\" \"),o(\"el-option\",{attrs:{label:\"否\",value:\"否\"}})],1)],1),a._v(\" \"),o(\"el-form-item\",{attrs:{label:\"是否启用\"}},[o(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择\"},model:{value:a.form.shelvesStatus,callback:function(e){a.$set(a.form,\"shelvesStatus\",e)},expression:\"form.shelvesStatus\"}},[o(\"el-option\",{attrs:{label:\"是\",value:\"是\"}}),a._v(\" \"),o(\"el-option\",{attrs:{label:\"否\",value:\"否\"}})],1)],1),a._v(\" \"),o(\"el-form-item\",[o(\"el-input\",{attrs:{placeholder:\"请输入代码或关键字\"},model:{value:a.form.searchContent,callback:function(e){a.$set(a.form,\"searchContent\",e)},expression:\"form.searchContent\"}})],1),a._v(\" \"),o(\"el-form-item\",[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:a.onSubmit}},[a._v(\"查询\")]),a._v(\" \"),o(\"el-button\",{attrs:{type:\"primary\"},on:{click:a.onReset}},[a._v(\"重置\")])],1)],1)]):a._e()],1):a._e(),a._v(\" \"),a.roleBtn.addStoresInfo||a.roleBtn.exportStoresInfo||a.roleBtn.synchroStoresInfo||a.roleBtn.selectStoresInfo?o(\"el-card\",[a.roleBtn.addStoresInfo?o(\"el-button\",{attrs:{type:\"primary\"},on:{click:a.addStore}},[a._v(\"新增门店\")]):a._e(),a._v(\" \"),a.roleBtn.exportStoresInfo?o(\"el-button\",{attrs:{type:\"primary\",disabled:a.exportDis},on:{click:a.exportDataFn}},[a._v(\"导出Excel\")]):a._e(),a._v(\" \"),a.roleBtn.synchroStoresInfo?o(\"el-button\",{attrs:{type:\"primary\",disabled:a.synchroDis},on:{click:a.synchroStores}},[a._v(\"同步到微信\")]):a._e()],1):a._e()],1),a._v(\" \"),o(\"el-main\",[o(\"el-card\",[o(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:this.tableLoading,expression:\"this.tableLoading\"}],ref:\"tableData\",attrs:{data:a.tableData},on:{\"selection-change\":a.handleSelectionChange}},[o(\"el-table-column\",{attrs:{type:\"index\",width:\"50\",label:\"序号\"}}),a._v(\" \"),o(\"el-table-column\",{attrs:{type:\"selection\",width:\"50\",label:\"选择\"}}),a._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"storeId\",label:\"门店编码\"}}),a._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"storeName\",label:\"门店名称\"}}),a._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"contactNumber1\",label:\"服务电话\"},scopedSlots:a._u([{key:\"default\",fn:function(e){return[\"\"!=e.row.contactNumber1&&\"\"!=e.row.contactNumber2?o(\"div\",[a._v(a._s(e.row.contactNumber1+\", \"+e.row.contactNumber2))]):a._e(),a._v(\" \"),\"\"!=e.row.contactNumber1&&\"\"==e.row.contactNumber2?o(\"div\",[a._v(a._s(e.row.contactNumber1))]):a._e(),a._v(\" \"),\"\"==e.row.contactNumber1&&\"\"!=e.row.contactNumber2?o(\"div\",[a._v(a._s(e.row.contactNumber2))]):a._e()]}}])}),a._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"templatePersonal\",label:\"地理位置\"},scopedSlots:a._u([{key:\"default\",fn:function(e){return[\"\"!=e.row.longitude?o(\"el-popover\",{attrs:{trigger:\"hover\",placement:\"top\"}},[o(\"p\",[a._v(\" \"+a._s(e.row.longitude+\", \"+e.row.latitude))]),a._v(\" \"),o(\"div\",{staticClass:\"name-wrapper\",attrs:{slot:\"reference\"},slot:\"reference\"},[o(\"el-tag\",{attrs:{size:\"medium\"}},[a._v(a._s(e.row.longitude+\", \"+e.row.latitude))])],1)]):a._e()]}}])}),a._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"addr\",label:\"详细地址\"},scopedSlots:a._u([{key:\"default\",fn:function(e){return[o(\"el-popover\",{attrs:{trigger:\"hover\",placement:\"top\"}},[o(\"p\",[a._v(\" \"+a._s(e.row.provinceName)+a._s(e.row.cityName)+a._s(e.row.areaName)+a._s(e.row.addr))]),a._v(\" \"),o(\"div\",{staticClass:\"name-wrapper\",attrs:{slot:\"reference\"},slot:\"reference\"},[o(\"el-tag\",{attrs:{size:\"medium\"}},[a._v(a._s(e.row.provinceName)+a._s(e.row.cityName)+a._s(e.row.areaName))])],1)])]}}])}),a._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"shelvesStatus\",width:\"85\",label:\"是否启用\"}}),a._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"auditStatus\",width:\"90\",label:\"同步到微信\"}}),a._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"isDefault\",width:\"120\",label:\"是否为默认门店\"}}),a._v(\" \"),o(\"el-table-column\",{attrs:{prop:\"action\",width:\"85\",label:\"操作\"},scopedSlots:a._u([{key:\"default\",fn:function(t){return[o(\"el-tooltip\",{staticClass:\"item\",attrs:{content:\"查看\",placement:\"top\"}},[o(\"i\",{staticClass:\"iconfont icon-view\",on:{click:function(e){a.iconChakan(t.$index,t.row)}}})]),a._v(\" \"),a.roleBtn.updateStoresInfo&&!t.row.isEdit?o(\"el-tooltip\",{staticClass:\"item\",attrs:{content:\"修改\",placement:\"top\"}},[o(\"i\",{staticClass:\"iconfont icon-edit\",on:{click:function(e){e.preventDefault(),a.iconXiugai(t.$index,t.row)}}})]):a._e(),a._v(\" \"),a.roleBtn.updateStoresInfo&&t.row.isEdit?o(\"el-tooltip\",{staticClass:\"item\",attrs:{content:\"确认\",placement:\"top\"}},[o(\"icon-svg\",{attrs:{\"icon-class\":\"queren\",id:\"icon-queren\"},nativeOn:{click:function(e){e.preventDefault(),a.iconQueren(t.$index,t.row)}}})],1):a._e(),a._v(\" \"),a.roleBtn.onlineStoresInfo&&\"是\"!=t.row.shelvesStatus?o(\"el-tooltip\",{staticClass:\"item\",attrs:{content:\"启用\",placement:\"top\"}},[o(\"i\",{staticClass:\"iconfont icon-shezhiqiyong\",on:{click:function(e){e.preventDefault(),a.iconQiyong(t.$index,a.tableData)}}})]):a._e(),a._v(\" \"),a.roleBtn.onlineStoresInfo&&\"是\"==t.row.shelvesStatus?o(\"el-tooltip\",{staticClass:\"item\",attrs:{content:\"停用\",placement:\"top\"}},[o(\"i\",{staticClass:\"iconfont icon-forbidden\",on:{click:function(e){e.preventDefault(),a.iconTingzhi(t.$index,a.tableData)}}})]):a._e()]}}])})],1),a._v(\" \"),0!=a.count?o(\"el-footer\",[o(\"el-pagination\",{staticClass:\"pagination\",attrs:{background:\"\",layout:\"total, sizes, prev, pager, next, jumper\",\"page-size\":a.limit,total:a.count},on:{\"size-change\":a.handleSizeChange,\"current-change\":a.handleCurrentChange}})],1):a._e()],1)],1)],1)},staticRenderFns:[]};t.a=o},EaRo:function(e,t,a){\"use strict\";t.a=function(e){var t=Base64.encode(n()(e));return a.i(s.a)({url:\"/I_SCRM_INTERFACE_057.action\",method:\"post\",data:t})},t.f=function(e){var t=Base64.encode(n()(e));return a.i(s.a)({url:\"/I_SCRM_INTERFACE_058.action\",method:\"post\",data:t})},t.g=function(e){var t=Base64.encode(n()(e));return a.i(s.a)({url:\"/I_SCRM_INTERFACE_059.action\",method:\"post\",data:t})},t.e=function(e){var t=Base64.encode(n()(e));return a.i(s.a)({url:\"/I_SCRM_INTERFACE_149.action\",method:\"post\",data:t})},t.c=function(e){var t=Base64.encode(n()(e));return a.i(s.a)({url:\"/I_SCRM_INTERFACE_336.action\",method:\"post\",data:t})},t.d=function(e){var t=Base64.encode(n()(e));return a.i(s.a)({url:\"/I_SCRM_INTERFACE_061.action\",method:\"post\",data:t})},t.b=function(e){var t=Base64.encode(n()(e));return a.i(s.a)({url:\"/I_SCRM_INTERFACE_377.action\",method:\"post\",data:t})},t.h=function(e){var t=Base64.encode(n()(e));return a.i(s.a)({url:\"/I_SCRM_INTERFACE_504.action\",method:\"post\",data:t})};var o=a(\"3cXf\"),n=a.n(o),s=a(\"Vo7i\")},eabk:function(e,t,a){var o=a(\"n7Dk\");\"string\"==typeof o&&(o=[[e.i,o,\"\"]]),o.locals&&(e.exports=o.locals);a(\"XkoO\")(\"047babc8\",o,!0)},n7Dk:function(e,t,a){(e.exports=a(\"acE3\")(!1)).push([e.i,\".el-card[data-v-d722e528]{width:100%}.transitionArea[data-v-d722e528]{display:-ms-flexbox;display:flex}.transition-box[data-v-d722e528]{color:#fff;height:40px;margin-right:0;text-align:center}.main-mobile[data-v-d722e528]{positiion:relative}.main-mobile .main-mobile-container[data-v-d722e528]{margin:0 10px}.el-form[data-v-d722e528]{display:unset}.el-form .el-form-item[data-v-d722e528]{margin-bottom:10px}.el-form .el-select[data-v-d722e528]{width:140px}\",\"\"])},xiqw:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=a(\"AbLk\"),n=a(\"Cu5r\");var s=function(e){a(\"eabk\")},r=a(\"J0+h\")(o.a,n.a,s,\"data-v-d722e528\",null);t.default=r.exports}});"}