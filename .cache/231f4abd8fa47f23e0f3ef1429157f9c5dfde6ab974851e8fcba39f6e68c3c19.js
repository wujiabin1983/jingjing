{"source":"webpackJsonp([123],{\"0xDb\":function(e,t,a){\"use strict\";t.a=function(e){var t={},a=function(a){var n=!1;0<JSON.parse(sessionStorage.getItem(\"roles\")).length&&JSON.parse(sessionStorage.getItem(\"roles\")).forEach(function(e,t){a===e&&(n=!0)}),t[a]=n};for(var n in e)a(n);return t},t.b=function(s,o,i){var l=void 0,a=void 0,r=void 0,c=void 0,p=void 0,d=function e(){var t=+new Date-c;t<o&&0<t?l=setTimeout(e,o-t):(l=null,i||(p=s.apply(r,a),l||(r=a=null)))};return function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];r=this,c=+new Date;var n=i&&!l;return l||(l=setTimeout(d,o)),n&&(p=s.apply(r,t),r=t=null),p}};var n=a(\"hRKE\");a.n(n),a(\"IcnI\")},\"17rQ\":function(e,t,a){\"use strict\";var n={render:function(){var n=this,e=n.$createElement,s=n._self._c||e;return s(\"el-container\",{staticClass:\"app-container\"},[s(\"el-tabs\",{staticClass:\"width100\",on:{\"tab-click\":n.handleClick},model:{value:n.activeName,callback:function(e){n.activeName=e},expression:\"activeName\"}},[s(\"el-tab-pane\",{attrs:{label:\"服务申请\",name:\"first\"}},[s(\"el-header\",[s(\"el-card\",[s(\"el-form\",{staticClass:\"demo-form-inline dean-form\",attrs:{inline:!0,model:n.form}},[s(\"el-form-item\",{attrs:{label:\"状态\"}},[s(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择券类型\"},model:{value:n.form.status,callback:function(e){n.$set(n.form,\"status\",e)},expression:\"form.status\"}},[s(\"el-option\",{attrs:{label:\"全部\",value:\"\"}}),n._v(\" \"),s(\"el-option\",{attrs:{label:\"待处理\",value:\"待处理\"}}),n._v(\" \"),s(\"el-option\",{attrs:{label:\"已处理\",value:\"已处理\"}}),n._v(\" \"),s(\"el-option\",{attrs:{label:\"已关闭\",value:\"已关闭\"}})],1)],1),n._v(\" \"),s(\"el-form-item\",{attrs:{label:\"申请类型\"}},[s(\"el-select\",{attrs:{clearable:\"\",placeholder:\"请选择券类型\"},model:{value:n.form.questionType,callback:function(e){n.$set(n.form,\"questionType\",e)},expression:\"form.questionType\"}},n._l(n.typeData,function(e){return s(\"el-option\",{key:e.key,attrs:{label:e.key,value:e.key}})}),1)],1),n._v(\" \"),s(\"el-form-item\",[s(\"el-input\",{attrs:{placeholder:\"请输入姓名或电话\"},model:{value:n.form.searchContent,callback:function(e){n.$set(n.form,\"searchContent\",e)},expression:\"form.searchContent\"}})],1),n._v(\" \"),s(\"el-form-item\",[s(\"el-button\",{attrs:{type:\"primary\"},on:{click:n.onSubmit}},[n._v(\"查询\")]),n._v(\" \"),s(\"el-button\",{attrs:{type:\"primary\"},on:{click:n.onReset}},[n._v(\"重置\")])],1)],1)],1)],1),n._v(\" \"),s(\"el-card\",[s(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:this.tableLoading,expression:\"this.tableLoading\"}],ref:\"tableData\",attrs:{data:n.tableData},on:{\"selection-change\":n.handleSelectionChange}},[s(\"el-table-column\",{attrs:{prop:\"questionDate\",label:\"申请时间\"}}),n._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"questionName\",label:\"申请人\"}}),n._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"mobile\",label:\"联系电话\"}}),n._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"questionType\",label:\"申请类型\"}}),n._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"status\",label:\"状态\"}}),n._v(\" \"),s(\"el-table-column\",{attrs:{prop:\"action\",label:\"操作\"},scopedSlots:n._u([{key:\"default\",fn:function(t){return[s(\"el-tooltip\",{staticClass:\"item\",attrs:{content:\"查看\",placement:\"top\"}},[s(\"i\",{staticClass:\"iconfont icon-view\",on:{click:function(e){e.preventDefault(),n.iconChakan(t.$index,t.row)}}})])]}}])})],1),n._v(\" \"),0!=n.count?s(\"el-footer\",[s(\"el-pagination\",{staticClass:\"pagination\",attrs:{background:\"\",layout:\"total, sizes, prev, pager, next, jumper\",\"page-size\":n.limit,total:n.count},on:{\"size-change\":n.handleSizeChange,\"current-change\":n.handleCurrentChange}})],1):n._e()],1)],1),n._v(\" \"),s(\"el-tab-pane\",{attrs:{label:\"申请设置\",name:\"second\"}},[s(\"el-card\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:n.applySetLoading,expression:\"applySetLoading\"}],staticClass:\"applySet\"},[n.roleBtn.addApplySetInfo?s(\"el-button\",{staticClass:\"disBlock\",attrs:{type:\"primary\"},on:{click:n.addApplyType}},[n._v(\"添加申请类型\")]):n._e(),n._v(\" \"),n._l(n.applyTypeList,function(a){return s(\"div\",{key:a.id,staticClass:\"applySet\"},[s(\"table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:n.tableLoading,expression:\"tableLoading\"}],attrs:{width:\"80%\",border:\"0\",cellspacing:\"0\"}},[s(\"thead\",[s(\"tr\",[s(\"th\",{attrs:{colspan:\"2\"}},[n._v(n._s(a.tempType))])])]),n._v(\" \"),s(\"tbody\",n._l(a.tempApply,function(t){return s(\"tr\",[t.isEdit?s(\"td\",{attrs:{colspan:\"2\"}},[s(\"el-input\",{staticClass:\"addInput\",attrs:{placeholder:\"请输入\"},model:{value:t.value.name,callback:function(e){n.$set(t.value,\"name\",e)},expression:\"name.value.name\"}}),n._v(\" \"),t.isEdit?s(\"i\",{staticClass:\"el-icon-success addValue\",on:{click:function(e){n.valueSave(a,t)}}}):s(\"i\",{staticClass:\"el-icon-edit addValue\",on:{click:function(e){n.iconEdit(a,t)}}})],1):s(\"td\",{attrs:{colspan:\"2\"}},[n._v(n._s(t.value.name)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\"),s(\"i\",{staticClass:\"el-icon-delete addValue\",on:{click:function(e){n.iconDelete(a,t)}}}),n._v(\" \"),t.isEdit?s(\"i\",{staticClass:\"el-icon-success addValue\",on:{click:function(e){n.valueSave(a,t)}}}):s(\"i\",{staticClass:\"el-icon-edit addValue\",on:{click:function(e){n.iconEdit(a,t)}}})])])}),0),n._v(\" \"),s(\"tfoot\",[s(\"tr\",[s(\"td\",{attrs:{colspan:\"2\"},on:{click:function(e){n.iconAdd(a)}}},[s(\"i\",{staticClass:\"el-icon-plus iconAdd\"})])]),n._v(\" \"),n.roleBtn.deleteApplySetInfo?s(\"tr\",[s(\"td\",{attrs:{colspan:\"2\"},on:{click:function(e){n.iconDeketeAll(a)}}},[s(\"i\",{staticClass:\"el-icon-delete iconAdd\"})])]):n._e()])])])})],2)],1)],1),n._v(\" \"),s(\"el-dialog\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:n.handleLoading,expression:\"handleLoading\"}],staticClass:\"box40\",attrs:{visible:n.handleInfoDialog},on:{\"update:visible\":function(e){n.handleInfoDialog=e}}},[s(\"el-form\",{staticClass:\"demo-form demo-form-sub\",attrs:{model:n.formInfo,\"label-width\":\"120px\"}},[s(\"el-form-item\",{attrs:{label:\"申请时间\"}},[s(\"el-input\",{attrs:{type:\"text\",disabled:!0},model:{value:n.formInfo.questionDate,callback:function(e){n.$set(n.formInfo,\"questionDate\",e)},expression:\"formInfo.questionDate\"}})],1),n._v(\" \"),s(\"el-form-item\",{attrs:{label:\"申请人\"}},[s(\"el-input\",{attrs:{type:\"text\",disabled:!0},model:{value:n.formInfo.questionName,callback:function(e){n.$set(n.formInfo,\"questionName\",e)},expression:\"formInfo.questionName\"}})],1),n._v(\" \"),s(\"el-form-item\",{attrs:{label:\"联系电话\"}},[s(\"el-input\",{attrs:{type:\"text\",disabled:!0},model:{value:n.formInfo.mobile,callback:function(e){n.$set(n.formInfo,\"mobile\",e)},expression:\"formInfo.mobile\"}})],1),n._v(\" \"),n._l(this.formInfo.questionDesc,function(t){return s(\"div\",[\"备注\"!=t.name?s(\"el-form-item\",{attrs:{label:t.name}},[s(\"el-input\",{attrs:{type:\"text\",disabled:!0},model:{value:t.value,callback:function(e){n.$set(t,\"value\",e)},expression:\"item.value\"}})],1):s(\"el-form-item\",{attrs:{label:t.name}},[s(\"el-input\",{attrs:{resize:\"none\",type:\"textarea\",disabled:!0},model:{value:t.value,callback:function(e){n.$set(t,\"value\",e)},expression:\"item.value\"}})],1)],1)}),n._v(\" \"),s(\"el-form-item\",{attrs:{label:\"回复内容\"}},[s(\"el-input\",{attrs:{resize:\"none\",placeholder:\"请输入回复内容\",disabled:!n.closeApplyFlag,type:\"textarea\"},model:{value:n.formInfo.answerDesc,callback:function(e){n.$set(n.formInfo,\"answerDesc\",e)},expression:\"formInfo.answerDesc\"}})],1)],2),n._v(\" \"),s(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[s(\"el-button\",{on:{click:function(e){n.handleInfoDialog=!1}}},[n._v(\"关闭\")]),n._v(\" \"),n.processedFlag&&n.roleBtn.updateServiceRequestInfo?s(\"el-button\",{attrs:{type:\"primary\"},on:{click:n.processed}},[n._v(\"已处理\")]):n._e(),n._v(\" \"),n.closeApplyFlag&&n.roleBtn.updateServiceRequestInfo?s(\"el-button\",{attrs:{type:\"primary\"},on:{click:n.closeApply}},[n._v(\"关闭申请\")]):n._e()],1)],1),n._v(\" \"),s(\"el-dialog\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:n.handleLoading,expression:\"handleLoading\"}],staticClass:\"box30\",attrs:{visible:n.handleTabDialog},on:{\"update:visible\":function(e){n.handleTabDialog=e}}},[s(\"el-form\",{ref:\"formTab\",staticClass:\"demo-form demo-form-sub\",attrs:{model:n.formTab,\"label-width\":\"120px\",rules:n.rules}},[s(\"el-form-item\",{attrs:{label:\"申请类型名称:\",prop:\"tempType\"}},[s(\"el-input\",{attrs:{placeholder:\"请输入申请类型名称\",type:\"text\"},model:{value:n.formTab.tempType,callback:function(e){n.$set(n.formTab,\"tempType\",e)},expression:\"formTab.tempType\"}})],1)],1),n._v(\" \"),s(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[s(\"el-button\",{on:{click:function(e){n.handleTabDialog=!1}}},[n._v(\"关闭\")]),n._v(\" \"),s(\"el-button\",{attrs:{type:\"primary\"},on:{click:n.addTempType}},[n._v(\"确定\")])],1)],1)],1)},staticRenderFns:[]};t.a=n},\"5AUm\":function(e,t,a){var n=a(\"FsPW\");\"string\"==typeof n&&(n=[[e.i,n,\"\"]]),n.locals&&(e.exports=n.locals);a(\"XkoO\")(\"7754441f\",n,!0)},\"90Md\":function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=a(\"cG5V\"),s=a(\"17rQ\");var o=function(e){a(\"5AUm\")},i=a(\"J0+h\")(n.a,s.a,o,\"data-v-f897ca08\",null);t.default=i.exports},FsPW:function(e,t,a){(e.exports=a(\"acE3\")(!1)).push([e.i,\".el-card[data-v-f897ca08]{width:100%}.dean-form .el-form-item[data-v-f897ca08]{margin-bottom:10px}.el-button[data-v-f897ca08]{margin-top:0}.el-form[data-v-f897ca08]{display:inline-block}.disBlock[data-v-f897ca08]{display:block}.addValue[data-v-f897ca08]{color:#008a00;margin-left:10px;margin-top:7px;cursor:pointer;float:right}table[data-v-f897ca08]{border-top:1px solid #ebebeb;border-left:1px solid #ebebeb;margin-top:20px;width:240px}table thead[data-v-f897ca08]{background:#f5f7fa}table td[data-v-f897ca08],table th[data-v-f897ca08]{height:40px;border-bottom:1px solid #ebebeb;border-right:1px solid #ebebeb;text-align:left;padding:0 10px;min-width:120px}table tfoot td[data-v-f897ca08]{text-align:center;cursor:pointer}table .el-input[data-v-f897ca08]{width:65%;height:28px;float:left}.applySet[data-v-f897ca08]{float:left;margin-right:20px;padding-bottom:20px}\",\"\"])},Mnxg:function(e,t,a){a(\"vGR1\");var n=a(\"ZQXR\").Object;e.exports=function(e,t,a){return n.defineProperty(e,t,a)}},a3Yh:function(e,t,a){\"use strict\";t.__esModule=!0;var n,s=a(\"liLe\"),o=(n=s)&&n.__esModule?n:{default:n};t.default=function(e,t,a){return t in e?(0,o.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},cG5V:function(e,t,s){\"use strict\";var a=s(\"a3Yh\"),n=s.n(a),o=s(\"4YfN\"),i=s.n(o),l=s(\"gu6N\"),r=s(\"lQSI\"),c=s(\"0xDb\");t.a={data:function(){return{roleBtn:{addApplySetInfo:!1,deleteApplySetInfo:!1,updateServiceRequestInfo:!1},typeData:[],rules:{tempType:[{required:!0,message:\"请输入申请类型名称\",trigger:\"change\"},{max:8,message:\"最大长度不能超过8\",trigger:\"change\"}]},formTab:{tempType:\"\"},applySetLoading:!1,applyTypeList:[],handleTabDialog:!1,handleLoading:!1,handleInfoDialog:!1,closeApplyFlag:!0,processedFlag:!0,activeName:\"first\",formLabelWidth:\"120px\",form:{questionType:\"\",status:\"\",searchContent:\"\"},formInfo:{questionDate:\"\",questionName:\"\",mobile:\"\",questionDesc:\"\",answerDesc:\"\"},tableData:[],tableDataTab:[],multipleSelection:[],tableLoading:!1,page:0,count:0,limit:this.GLOBAL.limit}},methods:{addApplyType:function(){this.handleTabDialog=!0},addTempType:function(){var n=this;this.$refs.formTab.validate(function(e){if(e){var t={userId:n.userInfo.userCode,tempType:n.formTab.tempType,tempApply:\"\"},a=n;a.handleLoading=!0,s.i(l.a)(t).then(function(e){var t=JSON.parse(Base64.decode(e.data));a.handleLoading=!1,\"SUCCESS\"==t.messageType?(a.$message({message:t.messageContent,type:\"success\"}),a.formTab.tempType=\"\",a.handleTabDialog=!1,a.showTableTab()):a.$message({message:t.messageContent,type:\"warning\"})}).catch(function(e){a.handleLoading=!1})}})},handleClick:function(e,t){0==this.tableDataTab.length&&\"申请设置\"==e.label?this.showTableTab():this.showTable(this.page,this.limit)},valueSave:function(a,e){if(\"\"==a.tempApply[a.tempApply.length-1].value.name)return this.$message({message:\"请输入\",type:\"warning\"}),!1;this.applySetLoading=!0,a.tempApply.forEach(function(e,t){a.tempApply[t].isEdit=!1});var t={userId:this.userInfo.userCode,id:a.id,version:a.version,tempType:a.tempType,tempApply:a.tempApply},n=this;s.i(l.b)(t).then(function(e){var t=JSON.parse(Base64.decode(e.data));n.applySetLoading=!1,\"SUCCESS\"==t.messageType?(n.$message({message:t.messageContent,type:\"success\"}),n.showTableTab()):n.$message({message:t.messageContent,type:\"warning\"})}).catch(function(e){})},iconAdd:function(e){var a=0;e.tempApply.forEach(function(e,t){e.isEdit&&a++}),a<1&&this.applyTypeList[e.index].tempApply.push({value:{name:\"\",key:\"key\"+this.applyTypeList[e.index].tempApply.length},isEdit:!0})},iconEdit:function(e,t){this.applyTypeList[e.index].tempApply[t.index].isEdit=!0},iconDelete:function(e,t){this.applySetLoading=!0,e.tempApply.splice(t.index,1);var a={userId:this.userInfo.userCode,id:e.id,version:e.version,tempType:e.tempType,tempApply:e.tempApply},n=this;s.i(l.b)(a).then(function(e){var t=JSON.parse(Base64.decode(e.data));n.applySetLoading=!1,\"SUCCESS\"==t.messageType?(n.$message({message:\"删除成功\",type:\"success\"}),n.showTableTab()):n.$message({message:t.messageContent,type:\"warning\"})}).catch(function(e){})},iconDeketeAll:function(e){var t={userId:this.userInfo.userCode,id:e.id},a=this;a.applySetLoading=!0,s.i(l.c)(t).then(function(e){var t=JSON.parse(Base64.decode(e.data));a.applySetLoading=!1,\"SUCCESS\"==t.messageType?(a.$message({message:t.messageContent,type:\"success\"}),a.showTableTab()):a.$message({message:t.messageContent,type:\"warning\"})}).catch(function(e){a.tableLoading=!1})},showTableTab:function(){var e={userId:this.userInfo.userCode},n=this;this.applySetLoading=!0,s.i(l.d)(e).then(function(e){var t=JSON.parse(Base64.decode(e.data));n.applySetLoading=!1,n.applyTypeList=[],t.messageContent.forEach(function(e,a){n.applyTypeList.push({index:a,id:e.id,version:e.version,tempType:e.tempType,tempApply:[]}),\"\"!=e.tempApply&&e.tempApply.forEach(function(e,t){n.applyTypeList[a].tempApply.push({value:{name:e.value.name,key:\"key\"+t},isEdit:!1,index:t})})})}).catch(function(e){})},handleSelectionChange:function(e){this.multipleSelection=e},onSubmit:function(){this.showTable(\"\",this.limit)},onReset:function(){this.form={questionType:\"\",status:\"\",searchContent:\"\"}},handleCurrentChange:function(e){this.page=e,this.showTable(e,this.limit)},handleSizeChange:function(e){this.limit=e,this.showTable(this.page,this.limit)},showTable:function(e,t){var n=this,a=i()({userId:this.userInfo.userCode,page:e,limit:t},this.form);this.tableLoading=!0,s.i(l.e)(a).then(function(e){var t=JSON.parse(Base64.decode(e.data)),a=[];t.data?(t.data.forEach(function(e,t){a.push(i()({isEdit:!1},e))}),n.count=t.count,n.tableData=a):\"SUCCESS\"!=t.messageType&&n.$message({message:t.messageContent,type:\"warning\"}),n.tableLoading=!1}).catch(function(e){n.tableLoading=!1})},iconChakan:function(e,t){for(var a in this.formInfo=n()({id:t.id,version:t.version,status:t.status,answerDesc:t.answerDesc,questionDate:t.questionDate,questionName:t.questionName,mobile:t.mobile,questionDesc:\"\"},\"answerDesc\",t.answerDesc),this.formInfo.questionDesc=[],t.questionDesc)this.formInfo.questionDesc.push({name:t.questionDesc[a].split(\":\")[0],value:t.questionDesc[a].split(\":\")[1]});\"待处理\"==t.status?(this.closeApplyFlag=!0,this.processedFlag=!0):(this.closeApplyFlag=!1,this.processedFlag=!1),this.handleInfoDialog=!0},closeApply:function(){this.handleLoading=!0,this.formInfo.status=\"已关闭\";var a=this,e=i()({userId:this.userInfo.userCode},this.formInfo);s.i(l.f)(e).then(function(e){var t=JSON.parse(Base64.decode(e.data));\"SUCCESS\"==t.messageType?(a.$message({message:t.messageContent,type:\"success\"}),a.handleInfoDialog=!1,a.showTable(a.page,a.limit)):a.$message({message:t.messageContent,type:\"warning\"}),a.tableLoading=!1,a.handleLoading=!1}).catch(function(e){a.tableLoading=!1,a.handleLoading=!1})},processed:function(){this.handleLoading=!0,this.formInfo.status=\"已处理\";var a=this,e=i()({userId:this.userInfo.userCode},this.formInfo);s.i(l.f)(e).then(function(e){var t=JSON.parse(Base64.decode(e.data));\"SUCCESS\"==t.messageType?(a.$message({message:t.messageContent,type:\"success\"}),a.handleInfoDialog=!1,a.showTable(a.page,a.limit)):a.$message({message:t.messageContent,type:\"warning\"}),a.tableLoading=!1,a.handleLoading=!1}).catch(function(e){a.tableLoading=!1,a.handleLoading=!1})},loadingTypeData:function(){var a=this,e={userId:this.userInfo.userCode};s.i(l.g)(e).then(function(e){var t=JSON.parse(Base64.decode(e.data));\"SUCCESS\"==t.messageType?a.typeData=t.messageContent:a.$message({message:t.messageContent,type:\"warning\"})}).catch(function(e){})}},created:function(){this.roleBtn=s.i(c.a)(this.roleBtn),this.showTable(this.page,this.limit),this.loadingTypeData()},computed:i()({},s.i(r.a)([\"userInfo\"]))}},gu6N:function(e,t,a){\"use strict\";t.e=function(e){var t=Base64.encode(s()(e));return a.i(o.a)({url:\"/I_SCRM_INTERFACE_386.action\",method:\"post\",data:t})},t.f=function(e){var t=Base64.encode(s()(e));return a.i(o.a)({url:\"/I_SCRM_INTERFACE_387.action\",method:\"post\",data:t})},t.d=function(e){var t=Base64.encode(s()(e));return a.i(o.a)({url:\"/I_SCRM_INTERFACE_388.action\",method:\"post\",data:t})},t.a=function(e){var t=Base64.encode(s()(e));return a.i(o.a)({url:\"/I_SCRM_INTERFACE_389.action\",method:\"post\",data:t})},t.b=function(e){var t=Base64.encode(s()(e));return a.i(o.a)({url:\"/I_SCRM_INTERFACE_390.action\",method:\"post\",data:t})},t.c=function(e){var t=Base64.encode(s()(e));return a.i(o.a)({url:\"/I_SCRM_INTERFACE_391.action\",method:\"post\",data:t})},t.g=function(e){var t=Base64.encode(s()(e));return a.i(o.a)({url:\"/I_SCRM_INTERFACE_399.action\",method:\"post\",data:t})};var n=a(\"3cXf\"),s=a.n(n),o=a(\"Vo7i\")},liLe:function(e,t,a){e.exports={default:a(\"Mnxg\"),__esModule:!0}},vGR1:function(e,t,a){var n=a(\"Grs1\");n(n.S+n.F*!a(\"JeyM\"),\"Object\",{defineProperty:a(\"10jP\").f})}});"}